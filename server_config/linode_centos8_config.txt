sudo yum update

sudo yum install nginx

vi /etc/nginx/conf.d/example.com.conf

    server {
        listen         80;
        listen         [::]:80;
        server_name    miracleproject.online www.miracleproject.online;
        root           /var/www/miracleproject.online;
        index          index.html;

        gzip             on;
        gzip_comp_level  3;
        gzip_types       text/plain text/css application/javascript image/*;
    }

sudo mkdir -p /var/www/example.com

sudo rm /etc/nginx/sites-enabled/default

sudo systemctl enable nginx

sudo systemctl start nginx

sudo nginx -t

sudo dnf install ufw -y

sudo ufw enable

sudo ufw app list //if Nginx is not listed as NGINX Full or Nginx FULL

    vi /etc/ufw/applications.d/nginx.ini

        [Nginx HTTP]
        title=Web Server 
        description=Enable NGINX HTTP traffic
        ports=80/tcp

        [Nginx HTTPS] \
        title=Web Server (HTTPS) \
        description=Enable NGINX HTTPS traffic
        ports=443/tcp

        [Nginx Full]
        title=Web Server (HTTP,HTTPS)
        description=Enable NGINX HTTP and HTTPS traffic
        ports=80,443/tcp

    sudo ufw app update nginx

sudo ufw allow 'Nginx Full'

sudo getenforce //if "Enforcing"
    vi /etc/selinux/config
        SELINUX=disabled

sudo reboot

sudo dnf install @postgresql:13

sudo dnf install postgresql-contrib

sudo systemctl enable --now postgresql

sudo -u postgres psql -c "SELECT version();"

sudo -u postgres psql

CREATE ROLE miracle;

CREATE DATABASE miracle_project;

GRANT ALL PRIVILEGES ON DATABASE miracle_project TO miracle;

ALTER ROLE "miracle" WITH LOGIN;

\password miracle

\q

sudo nano /var/lib/pgsql/data/postgresql.conf
    listen_addresses = '*'     # what IP address(es) to listen on;

sudo systemctl restart postgresql

ss -nlt | grep 5432

    LISTEN   0    128    0.0.0.0:5432    0.0.0.0:*       
    LISTEN   0    128    [::]:5432      [::]:* 

vi /var/lib/pgsql/data/pg_hba.conf
    host all all 0.0.0.0/0 ident

